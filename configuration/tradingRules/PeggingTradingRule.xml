<?xml version="1.0" encoding="utf-8" ?>
<Rules>
    <Rule Name="ValidateTradingTimeRule">
        <Evaluators>
            <Evaluator Name="ClientOrderTradingTimeValidEvaluator" Criteria="False">
            </Evaluator>
        </Evaluators>

        <Handlers>
            <Handler Name="RejectClientOrderHandler" >
                <Parameters>
                    <Para Name="reason" Value="Order's trading time validation is failed!"></Para>
                </Parameters>
            </Handler>
        </Handlers>
    </Rule>
    <Rule Name="PeggingOrdersRule">
        <Evaluators>
            <Evaluator Name="AlwaysTrueEvaluator" Criteria="">
            </Evaluator>
        </Evaluators>

       <Handlers>
			<Handler Name="SessionPickerAssignHandler">
                <Parameters>
                    <Para Name="PickerName" Value="AlgoSessionPoolPicker"></Para>
                </Parameters>
            </Handler>
			
			<Handler Name="SubscribeMarketDataHandler">
            </Handler>
	   
            <Handler Name="AssembleDecisionChainHandler">
                <Parameters>
                    <Para Name="Decision1" Value="PeggingDecision">

                    </Para>
                </Parameters>
            </Handler>

            <Handler Name="CallingOrderHandlerProcessHandler">
                <Parameters>
                    <Para Name="flushLog" Value="true"></Para>
                </Parameters>
            </Handler>
        </Handlers>
    </Rule>

    <DecisionConfigs>
        <PeggingDecisionConfig className="com.csc108.decision.configuration.PegConfiguration">
            <Config Id="1">
                <Evaluators>
                    <Evaluator Name="AlwaysTrueEvaluator" Criteria="False">
                    </Evaluator>
                </Evaluators>
                <Data RiskFactor="Low" LadderLevel="3" DisplaySize="1000" ></Data>
            </Config>

        </PeggingDecisionConfig>

        <FinisherDecisionConfig className="com.csc108.decision.configuration.FinisherDecisionConfig">
            <Config Id="1">
                <Evaluators>
                    <Evaluator Name="AlwaysTrueEvaluator" Criteria="False">
                    </Evaluator>
                </Evaluators>
                <Data Enable='true' FinishTimeOffSetInSec='60' MaxLevel2Hit='3' WakeUpIntervalInSec='2' PctOfParticipation='1.00'
                      EnableRounding='true' MaxLevelPeggingAtNear='5' ToleranceMatchThreshold='0.25' EnableAggressiveSliceMerge='true'/>
            </Config>
        </FinisherDecisionConfig>

    </DecisionConfigs>
</Rules>

